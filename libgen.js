/*rawlib-Это переменная, библиотеки юзерских слов*/
var rawlib ="Повествование, в отличие от описания, представляет собой изображение событий или явлений, совершающихся не одновременно, а следующих друг за другом или обусловливающих друг друга. Самый, по-видимому, краткий в мировой литературе образец повествования – знаменитый рассказ Цезаря: «Пришёл, увидел, победил». Он ярко и точно передаёт суть повествования – это рассказ о том, что произошло, случилось."
var uslib;
    ;

/* эта функция очищает инпут или новые данные что бы они были готовы для добавления в базу*/
var readyToLib = function(rawlib){

    /*удаляем символы*/
    var reg = new RegExp ('[!@`~#$>%^}&*):;?,1234567890–(—<{;».«\n]','gi');
    var dif = rawlib.replace ( reg,' ');

    /*делаем массив из слов*/
     uslib= dif.toLowerCase().split(" ").sort();

    /*отрезаем все что меньше одного-двух символов*/
    for (var j = 0 ; j < uslib.length; j++) {
        if(uslib[j].length <= 2) uslib[j]='';
    }

    /*удаляем пустые элементы*/
    for (var i = uslib.length; i >= 0; i--) {
        if (!uslib[i]) uslib.splice(i, 1);
    }

    /*удаляем все что повторяется*/
    for(var z = uslib.length; z >= 0; z--) {
        if(uslib[z] == uslib[z-1]) uslib.splice (z,1);


    }
}

readyToLib(rawlib);
console.log(uslib)

/*то что пользователь печататет*/
var newNtTpng="и грянул гром и";

/*взять последнее слово из всего что юзер печатал-печатает,что бы работало со всеми новыми словами*/
 var TpLs = newNtTpng.split(" ");
for (var i2 = TpLs.length; i2 >= 0; i2--) {
    if (!TpLs[i2]) TpLs.splice(i2, 1);}
var word=TpLs[TpLs.length-1];

/*находим новое слово(или даже буквы) по совпадениям в базе*/
for (var a = 0; a < uslib.length ; a++) {
    if ( uslib[a].substr(0,word.length) === word ) {
        console.log(uslib[a]);
    }
}



